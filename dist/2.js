webpackJsonp([2],{527:function(t,e,r){r(672);var i=r(200)(r(587),r(715),"data-v-04bd1fbc",null);t.exports=i.exports},574:function(t,e,r){var i=r(136),n=r(52)("toStringTag"),o="Arguments"==i(function(){return arguments}()),a=function(t,e){try{return t[e]}catch(t){}};t.exports=function(t){var e,r,s;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(r=a(e=Object(t),n))?r:o?i(e):"Object"==(s=i(e))&&"function"==typeof e.callee?"Arguments":s}},575:function(t,e,r){var i,n,o,a=r(204),s=r(618),l=r(207),c=r(137),d=r(34),u=d.process,f=d.setImmediate,m=d.clearImmediate,v=d.MessageChannel,h=0,p={},b=function(){var t=+this;if(p.hasOwnProperty(t)){var e=p[t];delete p[t],e()}},g=function(t){b.call(t.data)};f&&m||(f=function(t){for(var e=[],r=1;arguments.length>r;)e.push(arguments[r++]);return p[++h]=function(){s("function"==typeof t?t:Function(t),e)},i(h),h},m=function(t){delete p[t]},"process"==r(136)(u)?i=function(t){u.nextTick(a(b,t,1))}:v?(n=new v,o=n.port2,n.port1.onmessage=g,i=a(o.postMessage,o,1)):d.addEventListener&&"function"==typeof postMessage&&!d.importScripts?(i=function(t){d.postMessage(t+"","*")},d.addEventListener("message",g,!1)):i="onreadystatechange"in c("script")?function(t){l.appendChild(c("script")).onreadystatechange=function(){l.removeChild(this),b.call(t)}}:function(t){setTimeout(a(b,t,1),0)}),t.exports={set:f,clear:m}},587:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(135),n=r.n(i),o=r(613),a=r.n(o);e.default={watch:{"$store.state.userList":"userListGet"},data:function(){return{filters:{name:""},userList:[],total:0,page:1,listLoading:!1,sels:[],editFormVisible:!1,editLoading:!1,editFormRules:{name:[{required:!0,message:"请输入姓名",trigger:"blur"}]},editForm:{id:0,name:"",sex:-1,age:0,birth:"",addr:""},addFormVisible:!1,addLoading:!1,addFormRules:{name:[{required:!0,message:"请输入姓名",trigger:"blur"}]},addForm:{name:"",sex:-1,age:0,birth:"",addr:""}}},methods:{userListGet:function(){this.userList=this.$store.state.userList},formatSex:function(t,e){return 1==t.sex?"男":0==t.sex?"女":"未知"},handleCurrentChange:function(t){this.page=t,this.getUsers()},getUsers:function(){var t=this,e=this;this.listLoading=!0,new a.a(function(r,i){e.$store.dispatch("getUserList"),t.listLoading=!1,r()})},handleDel:function(t,e){var r=this;this.$confirm("确认删除该记录吗?","提示",{type:"warning"}).then(function(){r.listLoading=!0;var t={id:e.id};removeUser(t).then(function(t){r.listLoading=!1,r.$message({message:"删除成功",type:"success"}),r.getUsers()})}).catch(function(){})},handleEdit:function(t,e){this.editFormVisible=!0,this.editForm=n()({},e)},handleAdd:function(){this.addFormVisible=!0,this.addForm={name:"",sex:-1,age:0,birth:"",addr:""}},editSubmit:function(){var t=this;this.$refs.editForm.validate(function(e){e&&t.$confirm("确认提交吗？","提示",{}).then(function(){t.editLoading=!0;var e=n()({},t.editForm);e.birth=e.birth&&""!=e.birth?util.formatDate.format(new Date(e.birth),"yyyy-MM-dd"):"",editUser(e).then(function(e){t.editLoading=!1,t.$message({message:"提交成功",type:"success"}),t.$refs.editForm.resetFields(),t.editFormVisible=!1,t.getUsers()})})})},addSubmit:function(){var t=this;this.$refs.addForm.validate(function(e){e&&t.$confirm("确认提交吗？","提示",{}).then(function(){t.addLoading=!0;var e=n()({},t.addForm);e.birth=e.birth&&""!=e.birth?util.formatDate.format(new Date(e.birth),"yyyy-MM-dd"):"",addUser(e).then(function(e){t.addLoading=!1,t.$message({message:"提交成功",type:"success"}),t.$refs.addForm.resetFields(),t.addFormVisible=!1,t.getUsers()})})})},selsChange:function(t){this.sels=t},batchRemove:function(){var t=this,e=this.sels.map(function(t){return t.id}).toString();this.$confirm("确认删除选中记录吗？","提示",{type:"warning"}).then(function(){t.listLoading=!0;var r={ids:e};batchRemoveUser(r).then(function(e){t.listLoading=!1,t.$message({message:"删除成功",type:"success"}),t.getUsers()})}).catch(function(){})}},mounted:function(){this.getUsers()}}},613:function(t,e,r){t.exports={default:r(615),__esModule:!0}},615:function(t,e,r){r(209),r(210),r(211),r(627),t.exports=r(60).Promise},616:function(t,e){t.exports=function(t,e,r,i){if(!(t instanceof e)||void 0!==i&&i in t)throw TypeError(r+": incorrect invocation!");return t}},617:function(t,e,r){var i=r(204),n=r(620),o=r(619),a=r(66),s=r(208),l=r(626),c={},d={},e=t.exports=function(t,e,r,u,f){var m,v,h,p,b=f?function(){return t}:l(t),g=i(r,u,e?2:1),_=0;if("function"!=typeof b)throw TypeError(t+" is not iterable!");if(o(b)){for(m=s(t.length);m>_;_++)if((p=e?g(a(v=t[_])[0],v[1]):g(t[_]))===c||p===d)return p}else for(h=b.call(t);!(v=h.next()).done;)if((p=n(h,g,v.value,e))===c||p===d)return p};e.BREAK=c,e.RETURN=d},618:function(t,e){t.exports=function(t,e,r){var i=void 0===r;switch(e.length){case 0:return i?t():t.call(r);case 1:return i?t(e[0]):t.call(r,e[0]);case 2:return i?t(e[0],e[1]):t.call(r,e[0],e[1]);case 3:return i?t(e[0],e[1],e[2]):t.call(r,e[0],e[1],e[2]);case 4:return i?t(e[0],e[1],e[2],e[3]):t.call(r,e[0],e[1],e[2],e[3])}return t.apply(r,e)}},619:function(t,e,r){var i=r(88),n=r(52)("iterator"),o=Array.prototype;t.exports=function(t){return void 0!==t&&(i.Array===t||o[n]===t)}},620:function(t,e,r){var i=r(66);t.exports=function(t,e,r,n){try{return n?e(i(r)[0],r[1]):e(r)}catch(e){var o=t.return;throw void 0!==o&&i(o.call(t)),e}}},621:function(t,e,r){var i=r(52)("iterator"),n=!1;try{var o=[7][i]();o.return=function(){n=!0},Array.from(o,function(){throw 2})}catch(t){}t.exports=function(t,e){if(!e&&!n)return!1;var r=!1;try{var o=[7],a=o[i]();a.next=function(){return{done:r=!0}},o[i]=function(){return a},t(o)}catch(t){}return r}},622:function(t,e,r){var i=r(34),n=r(575).set,o=i.MutationObserver||i.WebKitMutationObserver,a=i.process,s=i.Promise,l="process"==r(136)(a);t.exports=function(){var t,e,r,c=function(){var i,n;for(l&&(i=a.domain)&&i.exit();t;){n=t.fn,t=t.next;try{n()}catch(i){throw t?r():e=void 0,i}}e=void 0,i&&i.enter()};if(l)r=function(){a.nextTick(c)};else if(o){var d=!0,u=document.createTextNode("");new o(c).observe(u,{characterData:!0}),r=function(){u.data=d=!d}}else if(s&&s.resolve){var f=s.resolve();r=function(){f.then(c)}}else r=function(){n.call(i,c)};return function(i){var n={fn:i,next:void 0};e&&(e.next=n),t||(t=n,r()),e=n}}},623:function(t,e,r){var i=r(53);t.exports=function(t,e,r){for(var n in e)r&&t[n]?t[n]=e[n]:i(t,n,e[n]);return t}},624:function(t,e,r){"use strict";var i=r(34),n=r(60),o=r(39),a=r(38),s=r(52)("species");t.exports=function(t){var e="function"==typeof n[t]?n[t]:i[t];a&&e&&!e[s]&&o.f(e,s,{configurable:!0,get:function(){return this}})}},625:function(t,e,r){var i=r(66),n=r(205),o=r(52)("species");t.exports=function(t,e){var r,a=i(t).constructor;return void 0===a||void 0==(r=i(a)[o])?e:n(r)}},626:function(t,e,r){var i=r(574),n=r(52)("iterator"),o=r(88);t.exports=r(60).getIteratorMethod=function(t){if(void 0!=t)return t[n]||t["@@iterator"]||o[i(t)]}},627:function(t,e,r){"use strict";var i,n,o,a=r(89),s=r(34),l=r(204),c=r(574),d=r(67),u=r(68),f=r(205),m=r(616),v=r(617),h=r(625),p=r(575).set,b=r(622)(),g=s.TypeError,_=s.process,x=s.Promise,_=s.process,y="process"==c(_),F=function(){},w=!!function(){try{var t=x.resolve(1),e=(t.constructor={})[r(52)("species")]=function(t){t(F,F)};return(y||"function"==typeof PromiseRejectionEvent)&&t.then(F)instanceof e}catch(t){}}(),k=function(t,e){return t===e||t===x&&e===o},L=function(t){var e;return!(!u(t)||"function"!=typeof(e=t.then))&&e},C=function(t){return k(x,t)?new $(t):new n(t)},$=n=function(t){var e,r;this.promise=new t(function(t,i){if(void 0!==e||void 0!==r)throw g("Bad Promise constructor");e=t,r=i}),this.resolve=f(e),this.reject=f(r)},P=function(t){try{t()}catch(t){return{error:t}}},j=function(t,e){if(!t._n){t._n=!0;var r=t._c;b(function(){for(var i=t._v,n=1==t._s,o=0;r.length>o;)!function(e){var r,o,a=n?e.ok:e.fail,s=e.resolve,l=e.reject,c=e.domain;try{a?(n||(2==t._h&&V(t),t._h=1),!0===a?r=i:(c&&c.enter(),r=a(i),c&&c.exit()),r===e.promise?l(g("Promise-chain cycle")):(o=L(r))?o.call(r,s,l):s(r)):l(i)}catch(t){l(t)}}(r[o++]);t._c=[],t._n=!1,e&&!t._h&&S(t)})}},S=function(t){p.call(s,function(){var e,r,i,n=t._v;if(U(t)&&(e=P(function(){y?_.emit("unhandledRejection",n,t):(r=s.onunhandledrejection)?r({promise:t,reason:n}):(i=s.console)&&i.error&&i.error("Unhandled promise rejection",n)}),t._h=y||U(t)?2:1),t._a=void 0,e)throw e.error})},U=function(t){if(1==t._h)return!1;for(var e,r=t._a||t._c,i=0;r.length>i;)if(e=r[i++],e.fail||!U(e.promise))return!1;return!0},V=function(t){p.call(s,function(){var e;y?_.emit("rejectionHandled",t):(e=s.onrejectionhandled)&&e({promise:t,reason:t._v})})},M=function(t){var e=this;e._d||(e._d=!0,e=e._w||e,e._v=t,e._s=2,e._a||(e._a=e._c.slice()),j(e,!0))},R=function(t){var e,r=this;if(!r._d){r._d=!0,r=r._w||r;try{if(r===t)throw g("Promise can't be resolved itself");(e=L(t))?b(function(){var i={_w:r,_d:!1};try{e.call(t,l(R,i,1),l(M,i,1))}catch(t){M.call(i,t)}}):(r._v=t,r._s=1,j(r,!1))}catch(t){M.call({_w:r,_d:!1},t)}}};w||(x=function(t){m(this,x,"Promise","_h"),f(t),i.call(this);try{t(l(R,this,1),l(M,this,1))}catch(t){M.call(this,t)}},i=function(t){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1},i.prototype=r(623)(x.prototype,{then:function(t,e){var r=C(h(this,x));return r.ok="function"!=typeof t||t,r.fail="function"==typeof e&&e,r.domain=y?_.domain:void 0,this._c.push(r),this._a&&this._a.push(r),this._s&&j(this,!1),r.promise},catch:function(t){return this.then(void 0,t)}}),$=function(){var t=new i;this.promise=t,this.resolve=l(R,t,1),this.reject=l(M,t,1)}),d(d.G+d.W+d.F*!w,{Promise:x}),r(90)(x,"Promise"),r(624)("Promise"),o=r(60).Promise,d(d.S+d.F*!w,"Promise",{reject:function(t){var e=C(this);return(0,e.reject)(t),e.promise}}),d(d.S+d.F*(a||!w),"Promise",{resolve:function(t){if(t instanceof x&&k(t.constructor,this))return t;var e=C(this);return(0,e.resolve)(t),e.promise}}),d(d.S+d.F*!(w&&r(621)(function(t){x.all(t).catch(F)})),"Promise",{all:function(t){var e=this,r=C(e),i=r.resolve,n=r.reject,o=P(function(){var r=[],o=0,a=1;v(t,!1,function(t){var s=o++,l=!1;r.push(void 0),a++,e.resolve(t).then(function(t){l||(l=!0,r[s]=t,--a||i(r))},n)}),--a||i(r)});return o&&n(o.error),r.promise},race:function(t){var e=this,r=C(e),i=r.reject,n=P(function(){v(t,!1,function(t){e.resolve(t).then(r.resolve,i)})});return n&&i(n.error),r.promise}})},629:function(t,e,r){e=t.exports=r(28)(void 0),e.push([t.i,".toolbar[data-v-04bd1fbc]{height:50px;font-size:12px;padding-left:8px}.toolbar .el-form-item[data-v-04bd1fbc]{margin-top:7px}.toolbar .button[data-v-04bd1fbc],.toolbar[data-v-04bd1fbc]{margin-top:4px}",""])},672:function(t,e,r){var i=r(629);"string"==typeof i&&(i=[[t.i,i,""]]);r(29)(i,{});i.locals&&(t.exports=i.locals)},715:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("section",{staticClass:"page"},[r("el-col",{staticClass:"toolbar",staticStyle:{"padding-bottom":"0px"},attrs:{span:24}},[r("el-form",{attrs:{inline:!0,model:t.filters}},[r("el-form-item",[r("el-input",{attrs:{placeholder:"姓名"},model:{value:t.filters.name,callback:function(e){t.filters.name=e},expression:"filters.name"}})],1),t._v(" "),r("el-form-item",[r("el-button",{attrs:{type:"primary"},on:{click:t.getUsers}},[t._v("查询")])],1),t._v(" "),r("el-form-item",[r("el-button",{attrs:{type:"primary"},on:{click:t.handleAdd}},[t._v("新增")])],1)],1)],1),t._v(" "),r("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}],staticStyle:{width:"100%"},attrs:{data:t.userList,"highlight-current-row":""},on:{"selection-change":t.selsChange}},[r("el-table-column",{attrs:{type:"selection",width:"55"}}),t._v(" "),r("el-table-column",{attrs:{type:"index",width:"60"}}),t._v(" "),r("el-table-column",{attrs:{prop:"name",label:"姓名",width:"120",sortable:""}}),t._v(" "),r("el-table-column",{attrs:{prop:"sex",label:"性别",width:"100",formatter:t.formatSex,sortable:""}}),t._v(" "),r("el-table-column",{attrs:{prop:"age",label:"年龄",width:"100",sortable:""}}),t._v(" "),r("el-table-column",{attrs:{prop:"birthday",label:"生日",width:"120",sortable:""}}),t._v(" "),r("el-table-column",{attrs:{prop:"addr",label:"地址","min-width":"180",sortable:""}}),t._v(" "),r("el-table-column",{attrs:{label:"操作",width:"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("el-button",{attrs:{size:"small"},on:{click:function(r){t.handleEdit(e.$index,e.row)}}},[t._v("编辑")]),t._v(" "),r("el-button",{attrs:{type:"danger",size:"small"},on:{click:function(r){t.handleDel(e.$index,e.row)}}},[t._v("删除")])]}}])})],1),t._v(" "),r("el-col",{staticClass:"toolbar",attrs:{span:24}},[r("el-button",{staticClass:"button",attrs:{type:"danger",disabled:0===this.sels.length},on:{click:t.batchRemove}},[t._v("批量删除")]),t._v(" "),r("el-pagination",{staticClass:"button",staticStyle:{float:"right"},attrs:{layout:"prev, pager, next","page-size":20,total:500},on:{"current-change":t.handleCurrentChange}})],1),t._v(" "),r("el-dialog",{attrs:{title:"编辑","close-on-click-modal":!1},model:{value:t.editFormVisible,callback:function(e){t.editFormVisible=e},expression:"editFormVisible"}},[r("el-form",{ref:"editForm",attrs:{model:t.editForm,"label-width":"80px",rules:t.editFormRules}},[r("el-form-item",{attrs:{label:"姓名",prop:"name"}},[r("el-input",{attrs:{"auto-complete":"off"},model:{value:t.editForm.name,callback:function(e){t.editForm.name=e},expression:"editForm.name"}})],1),t._v(" "),r("el-form-item",{attrs:{label:"性别"}},[r("el-radio-group",{model:{value:t.editForm.sex,callback:function(e){t.editForm.sex=e},expression:"editForm.sex"}},[r("el-radio",{staticClass:"radio",attrs:{label:1}},[t._v("男")]),t._v(" "),r("el-radio",{staticClass:"radio",attrs:{label:0}},[t._v("女")])],1)],1),t._v(" "),r("el-form-item",{attrs:{label:"年龄"}},[r("el-input-number",{attrs:{min:0,max:200},model:{value:t.editForm.age,callback:function(e){t.editForm.age=e},expression:"editForm.age"}})],1),t._v(" "),r("el-form-item",{attrs:{label:"生日"}},[r("el-date-picker",{attrs:{type:"date",placeholder:"选择日期"},model:{value:t.editForm.birth,callback:function(e){t.editForm.birth=e},expression:"editForm.birth"}})],1),t._v(" "),r("el-form-item",{attrs:{label:"地址"}},[r("el-input",{attrs:{type:"textarea"},model:{value:t.editForm.addr,callback:function(e){t.editForm.addr=e},expression:"editForm.addr"}})],1)],1),t._v(" "),r("div",{staticClass:"dialog-footer",slot:"footer"},[r("el-button",{nativeOn:{click:function(e){t.editFormVisible=!1}}},[t._v("取消")]),t._v(" "),r("el-button",{attrs:{type:"primary",loading:t.editLoading},nativeOn:{click:function(e){t.editSubmit(e)}}},[t._v("提交")])],1)],1),t._v(" "),r("el-dialog",{attrs:{title:"新增","close-on-click-modal":!1},model:{value:t.addFormVisible,callback:function(e){t.addFormVisible=e},expression:"addFormVisible"}},[r("el-form",{ref:"addForm",attrs:{model:t.addForm,"label-width":"80px",rules:t.addFormRules}},[r("el-form-item",{attrs:{label:"姓名",prop:"name"}},[r("el-input",{attrs:{"auto-complete":"off"},model:{value:t.addForm.name,callback:function(e){t.addForm.name=e},expression:"addForm.name"}})],1),t._v(" "),r("el-form-item",{attrs:{label:"性别"}},[r("el-radio-group",{model:{value:t.addForm.sex,callback:function(e){t.addForm.sex=e},expression:"addForm.sex"}},[r("el-radio",{staticClass:"radio",attrs:{label:1}},[t._v("男")]),t._v(" "),r("el-radio",{staticClass:"radio",attrs:{label:0}},[t._v("女")])],1)],1),t._v(" "),r("el-form-item",{attrs:{label:"年龄"}},[r("el-input-number",{attrs:{min:0,max:200},model:{value:t.addForm.age,callback:function(e){t.addForm.age=e},expression:"addForm.age"}})],1),t._v(" "),r("el-form-item",{attrs:{label:"生日"}},[r("el-date-picker",{attrs:{type:"date",placeholder:"选择日期"},model:{value:t.addForm.birth,callback:function(e){t.addForm.birth=e},expression:"addForm.birth"}})],1),t._v(" "),r("el-form-item",{attrs:{label:"地址"}},[r("el-input",{attrs:{type:"textarea"},model:{value:t.addForm.addr,callback:function(e){t.addForm.addr=e},expression:"addForm.addr"}})],1)],1),t._v(" "),r("div",{staticClass:"dialog-footer",slot:"footer"},[r("el-button",{nativeOn:{click:function(e){t.addFormVisible=!1}}},[t._v("取消")]),t._v(" "),r("el-button",{attrs:{type:"primary",loading:t.addLoading},nativeOn:{click:function(e){t.addSubmit(e)}}},[t._v("提交")])],1)],1)],1)},staticRenderFns:[]}}});
//# sourceMappingURL=2.js.map?679b30bd23820e76ed93